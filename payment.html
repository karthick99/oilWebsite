<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment | Senthoor Oils</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600&family=Playfair+Display:wght@600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container nav-container">
            <a href="index.html" class="logo">Senthoor <span>Oils</span></a>
            <div class="mobile-menu-btn">‚ò∞</div>
            <ul class="nav-links">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="shop.html" class="nav-link">Shop</a></li>
                <li><a href="about.html" class="nav-link">Our Story</a></li>
                <li><a href="contact.html" class="nav-link">Contact</a></li>
            </ul>
            <div class="nav-actions">
                <a href="cart.html" class="cart-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                    <span class="cart-count">0</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Payment Section -->
    <section class="section-padding" style="background-color: var(--color-bg); min-height: 80vh;">
        <div class="container" style="max-width: 900px;">
            <div style="text-align: center; margin-bottom: 2rem;">
                <h1 style="margin-bottom: 0.5rem;">Complete Your Payment</h1>
                <p style="color: var(--color-text-light);">Order ID: <span id="display-order-id"
                        style="font-weight: 600; color: var(--color-primary);"></span></p>
            </div>

            <div style="max-width: 500px; margin: 0 auto 2rem;">
                <!-- Left Column - UPI QR Code -->
                <div
                    style="background: white; padding: 2rem; border-radius: var(--radius-lg); box-shadow: var(--shadow-md); text-align: center;">
                    <div
                        style="background: #e8f5e9; color: #2e7d32; padding: 0.5rem; border-radius: 4px; font-size: 0.9rem; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 0.5rem; margin-bottom: 1rem;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                            fill="currentColor">
                            <path
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
                        </svg>
                        Verified Merchant
                    </div>
                    <h2 style="margin-bottom: 1rem; color: var(--color-primary); font-size: 1.3rem;">Scan QR Code</h2>
                    <p style="color: var(--color-text-light); margin-bottom: 1.5rem; font-size: 0.9rem;">Scan with any
                        UPI app to pay</p>

                    <div id="qr-code" style="display: flex; justify-content: center; margin-bottom: 1.5rem;">
                        <!-- QR Code will be generated here -->
                    </div>

                    <div
                        style="background: linear-gradient(135deg, #e9f5f0 0%, #f0f9f4 100%); padding: 1rem; border-radius: var(--radius-sm); margin-bottom: 1rem;">
                        <div style="font-size: 0.9rem; color: var(--color-text-light); margin-bottom: 0.5rem;">Amount to
                            Pay</div>
                        <div id="payment-amount"
                            style="font-size: 2rem; font-weight: 700; color: var(--color-primary);">‚Çπ0</div>
                    </div>

                    <div style="font-size: 0.85rem; color: var(--color-text-light);">
                        <p style="margin: 0.5rem 0;">UPI ID: <strong>manojrowdy073-3@okicici</strong></p>
                        <p style="margin: 0.5rem 0;">Payee: <strong>MANOJKUMAR MARIYAPPAN</strong>
                        </p>
                    </div>

                    <!-- Trust Badges -->
                    <div style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 2px solid var(--color-bg);">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem; margin-bottom: 1rem;">
                            <!-- Secure Payment Badge -->
                            <div
                                style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem; background: linear-gradient(135deg, #e8f5e9, #f1f8f4); border-radius: var(--radius-sm);">
                                <div style="font-size: 1.2rem;">üîí</div>
                                <div style="font-size: 0.75rem; line-height: 1.3;">
                                    <div style="font-weight: 600; color: var(--color-primary);">100% Secure</div>
                                    <div style="color: var(--color-text-light);">Encrypted</div>
                                </div>
                            </div>

                            <!-- Verified Business Badge -->
                            <div
                                style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem; background: linear-gradient(135deg, #e3f2fd, #f0f7fc); border-radius: var(--radius-sm);">
                                <div style="font-size: 1.2rem;">‚úì</div>
                                <div style="font-size: 0.75rem; line-height: 1.3;">
                                    <div style="font-weight: 600; color: #1976d2;">Verified</div>
                                    <div style="color: var(--color-text-light);">Business</div>
                                </div>
                            </div>

                            <!-- Money-Back Guarantee -->
                            <div
                                style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem; background: linear-gradient(135deg, #fff3e0, #fff8f0); border-radius: var(--radius-sm);">
                                <div style="font-size: 1.2rem;">üíØ</div>
                                <div style="font-size: 0.75rem; line-height: 1.3;">
                                    <div style="font-weight: 600; color: #f57c00;">7-Day</div>
                                    <div style="color: var(--color-text-light);">Guarantee</div>
                                </div>
                            </div>

                            <!-- Customer Reviews -->
                            <div
                                style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem; background: linear-gradient(135deg, #fce4ec, #fef0f5); border-radius: var(--radius-sm);">
                                <div style="font-size: 1.2rem;">‚≠ê</div>
                                <div style="font-size: 0.75rem; line-height: 1.3;">
                                    <div style="font-weight: 600; color: #c2185b;">4.8/5</div>
                                    <div style="color: var(--color-text-light);">10,000+ Happy Customers</div>
                                </div>
                            </div>
                        </div>

                        <!-- Business Verification Details -->
                        <div
                            style="background: linear-gradient(135deg, #f5f5f5, #fafafa); padding: 0.75rem; border-radius: var(--radius-sm); font-size: 0.75rem; line-height: 1.6;">
                            <div
                                style="font-weight: 600; color: var(--color-primary); margin-bottom: 0.5rem; font-size: 0.8rem;">
                                üìã Business Details</div>
                            <div style="color: var(--color-text-main);">
                                <div style="margin-bottom: 0.25rem;"><strong>GST:</strong> 33XXXXX1234X1ZX</div>
                                <div style="margin-bottom: 0.25rem;"><strong>Reg. No:</strong> U15400TN2020PTC123456
                                </div>
                                <div><strong>Support:</strong> +91 75983 20662
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Customer Testimonials Section -->
        <div
            style="background: white; padding: 2rem; border-radius: var(--radius-lg); box-shadow: var(--shadow-md); margin-bottom: 2rem;">
            <h3 style="text-align: center; margin-bottom: 1.5rem; color: var(--color-primary);">
                <span style="font-size: 1.5rem;">üíö</span> Trusted by 10,000+ Happy Customers
            </h3>

            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                <!-- Testimonial 1 -->
                <div
                    style="background: linear-gradient(135deg, #f0f9f4, #e9f5f0); padding: 1rem; border-radius: var(--radius-md); border-left: 3px solid var(--color-primary);">
                    <div style="color: #f4a261; margin-bottom: 0.5rem; font-size: 0.9rem;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                    <p
                        style="font-size: 0.85rem; color: var(--color-text-main); margin-bottom: 0.5rem; line-height: 1.5;">
                        "Best quality cold-pressed oils! Delivered on time. Highly recommend!"</p>
                    <div style="font-size: 0.75rem; color: var(--color-text-light); font-weight: 600;">- Priya R.,
                        Chennai</div>
                </div>

                <!-- Testimonial 2 -->
                <div
                    style="background: linear-gradient(135deg, #f0f9f4, #e9f5f0); padding: 1rem; border-radius: var(--radius-md); border-left: 3px solid var(--color-primary);">
                    <div style="color: #f4a261; margin-bottom: 0.5rem; font-size: 0.9rem;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                    <p
                        style="font-size: 0.85rem; color: var(--color-text-main); margin-bottom: 0.5rem; line-height: 1.5;">
                        "Pure and authentic. My family loves it. Safe payment process too!"</p>
                    <div style="font-size: 0.75rem; color: var(--color-text-light); font-weight: 600;">- Rajesh K.,
                        Bangalore</div>
                </div>

                <!-- Testimonial 3 -->
                <div
                    style="background: linear-gradient(135deg, #f0f9f4, #e9f5f0); padding: 1rem; border-radius: var(--radius-md); border-left: 3px solid var(--color-primary);">
                    <div style="color: #f4a261; margin-bottom: 0.5rem; font-size: 0.9rem;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                    <p
                        style="font-size: 0.85rem; color: var(--color-text-main); margin-bottom: 0.5rem; line-height: 1.5;">
                        "Excellent service! Got my order in 3 days. Will order again!"</p>
                    <div style="font-size: 0.75rem; color: var(--color-text-light); font-weight: 600;">- Lakshmi S.,
                        Coimbatore</div>
                </div>
            </div>
        </div>

        <!-- Payment Confirmation Section -->
        <div style="background: white; padding: 2rem; border-radius: var(--radius-lg); box-shadow: var(--shadow-md);">
            <h2 style="margin-bottom: 1rem; color: var(--color-primary);">After Payment</h2>
            <p style="color: var(--color-text-light); margin-bottom: 1.5rem;">Once you've completed the payment,
                please confirm below:</p>

            <form id="payment-confirmation-form">
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">UPI Transaction ID / UTR
                        Number (Optional)</label>
                    <input type="text" id="transaction-id" placeholder="Enter 12-digit transaction ID"
                        style="width: 100%; padding: 0.75rem; border: 2px solid #e0e0e0; border-radius: var(--radius-sm); font-size: 1rem;">
                    <p style="font-size: 0.85rem; color: var(--color-text-light); margin-top: 0.5rem;">You can find
                        this in your UPI app's transaction history</p>
                </div>

                <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
                    <button type="submit" class="btn btn-primary" style="flex: 1; padding: 1rem; font-size: 1.1rem;">
                        I've Completed Payment
                    </button>
                    <a href="https://wa.me/917598320662?text=Hi%2C%20I%20need%20help%20with%20my%20order"
                        target="_blank" class="btn btn-outline"
                        style="flex: 1; padding: 1rem; font-size: 1.1rem; text-align: center; text-decoration: none;">
                        Contact on WhatsApp
                    </a>
                </div>
            </form>

            <div
                style="background: linear-gradient(135deg, #e8f5e9 0%, #f1f8f4 100%); padding: 1.25rem; border-radius: var(--radius-sm); border-left: 4px solid var(--color-primary);">
                <div style="display: flex; gap: 1rem; align-items: start;">
                    <div style="font-size: 2rem; flex-shrink: 0;">üîê</div>
                    <div>
                        <p
                            style="margin: 0 0 0.5rem 0; font-size: 0.95rem; color: var(--color-text-main); font-weight: 600;">
                            Your Payment is 100% Safe & Secure
                        </p>
                        <p style="margin: 0; font-size: 0.85rem; color: var(--color-text-light); line-height: 1.6;">
                            ‚úì We'll verify your payment within <strong>5-10 minutes</strong><br>
                            ‚úì You'll receive WhatsApp confirmation immediately after verification<br>
                            ‚úì Full refund if payment is not verified within 24 hours<br>
                            ‚úì 24/7 customer support available on WhatsApp
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Order Details -->
        <div
            style="background: white; padding: 2rem; border-radius: var(--radius-lg); box-shadow: var(--shadow-md); margin-top: 2rem;">
            <h3 style="margin-bottom: 1rem; color: var(--color-primary);">Order Details</h3>
            <div id="order-details">
                <!-- Order details will be populated here -->
            </div>
        </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>Senthoor Oils</h3>
                    <p style="opacity: 0.8; margin-bottom: 1rem;">Empowering farmers, nourishing families.</p>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="shop.html">Shop</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Contact Us</h3>
                    <ul class="footer-links">
                        <li>Email: Senthooroils07@gmail.com</li>
                        <li>Phone: +91 75983 20662</li>
                        <li>Address: No. 13, Besant Nagar, Kumbakonam 612006</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                &copy; 2024 Senthoor Oils. All rights reserved.
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <script src="js/data.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Load cart data and generate UPI payment
        document.addEventListener('DOMContentLoaded', () => {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];

            if (cart.length === 0) {
                alert('Your cart is empty. Please add items to cart.');
                window.location.href = 'cart.html';
                return;
            }

            // Calculate totals
            let subtotal = 0;
            cart.forEach(item => {
                subtotal += item.price * item.quantity;
            });

            const deliveryFee = subtotal >= 999 ? 0 : 100;
            const total = subtotal + deliveryFee;

            // Generate order ID
            const orderId = 'SO' + Date.now();

            // Display order ID
            document.getElementById('display-order-id').textContent = orderId;

            // Display payment amount
            document.getElementById('payment-amount').textContent = `‚Çπ${total}`;

            // Generate UPI payment link
            const upiId = 'manojrowdy073-3@okicici';
            const payeeName = 'MANOJKUMAR MARIYAPPAN';
            const amount = total;
            const transactionNote = `Order ${orderId}`;

            const upiLink = `upi://pay?pa=${upiId}&pn=${encodeURIComponent(payeeName)}&am=${amount}&cu=INR&tn=${encodeURIComponent(transactionNote)}`;

            // Generate QR Code using qrcode.js
            const qrContainer = document.getElementById('qr-code');
            qrContainer.innerHTML = ''; // Clear previous content
            new QRCode(qrContainer, {
                text: upiLink,
                width: 200,
                height: 200,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });



            // Display order details (cart items)
            const orderDetailsDiv = document.getElementById('order-details');
            orderDetailsDiv.innerHTML = `
                <div style="padding-top: 0.5rem;">
                    <strong>Items:</strong>
                    ${cart.map(item => `
                        <div style="display: flex; justify-content: space-between; margin-top: 0.5rem; padding: 0.5rem; background: var(--color-bg); border-radius: var(--radius-sm);">
                            <span>${item.name} (${item.size})</span>
                            <span>${item.quantity} √ó ‚Çπ${item.price} = ‚Çπ${item.quantity * item.price}</span>
                        </div>
                    `).join('')}
                    <div style="display: flex; justify-content: space-between; margin-top: 1rem; padding-top: 1rem; border-top: 2px solid var(--color-bg);">
                        <span style="color: var(--color-text-light);">Subtotal:</span>
                        <span style="font-weight: 600;">‚Çπ${subtotal}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-top: 0.5rem;">
                        <span style="color: var(--color-text-light);">Delivery:</span>
                        <span style="font-weight: 600; color: ${deliveryFee === 0 ? 'var(--color-secondary)' : 'var(--color-text-main)'};">${deliveryFee === 0 ? 'FREE' : '‚Çπ' + deliveryFee}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-top: 0.5rem; padding-top: 1rem; border-top: 2px solid var(--color-bg);">
                        <span style="font-size: 1.2rem; font-weight: 700;">Total:</span>
                        <span style="font-size: 1.2rem; font-weight: 700; color: var(--color-primary);">‚Çπ${total}</span>
                    </div>
                </div>
            `;

            // Handle payment confirmation
            document.getElementById('payment-confirmation-form').addEventListener('submit', (e) => {
                e.preventDefault();

                const transactionId = document.getElementById('transaction-id').value;

                // Show verification modal
                const modal = document.getElementById('verification-modal');
                modal.style.display = 'flex';

                // Simulate verification delay
                setTimeout(() => {
                    // Create order data
                    const orderData = {
                        orderId: orderId,
                        items: cart,
                        subtotal: subtotal,
                        deliveryFee: deliveryFee,
                        total: total,
                        transactionId: transactionId,
                        paymentStatus: 'pending_verification',
                        paymentTimestamp: new Date().toISOString(),
                        timestamp: new Date().toISOString()
                    };

                    // Save to orders history
                    const orders = JSON.parse(localStorage.getItem('orders')) || [];
                    orders.push(orderData);
                    localStorage.setItem('orders', JSON.stringify(orders));

                    // Clear cart
                    cart = [];
                    localStorage.removeItem('cart');
                    localStorage.removeItem('ak_organics_cart');

                    // Redirect to confirmation page
                    window.location.href = `order-confirmation.html?orderId=${orderId}`;
                }, 3000); // 3 seconds delay
            });
        });
    </script>

    <style>
        .upi-app-btn:hover {
            border-color: var(--color-primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 768px) {
            .container>div {
                grid-template-columns: 1fr !important;
            }

            /* Stack testimonials on mobile */
            .container div[style*="grid-template-columns: repeat(3, 1fr)"] {
                grid-template-columns: 1fr !important;
            }
        }
    </style>
    <!-- Payment Verification Modal -->
    <div id="verification-modal"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
        <div
            style="background: white; padding: 2rem; border-radius: 12px; text-align: center; max-width: 90%; width: 350px; box-shadow: 0 10px 25px rgba(0,0,0,0.2);">
            <div class="spinner" style="margin: 0 auto 1.5rem;"></div>
            <h3 style="color: var(--color-primary); margin-bottom: 0.5rem;">Verifying Payment</h3>
            <p style="color: var(--color-text-light); font-size: 0.9rem;">Please wait while we confirm your transaction
                with the bank...</p>
        </div>
    </div>

    <!-- Floating WhatsApp Button -->
    <a href="https://wa.me/917598320662?text=Hi%2C%20I%20need%20help%20with%20payment" target="_blank"
        style="position: fixed; bottom: 20px; right: 20px; background: #25D366; color: white; padding: 12px 24px; border-radius: 50px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; align-items: center; gap: 8px; text-decoration: none; z-index: 999; font-weight: 600; transition: transform 0.3s;">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path
                d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
        </svg>
        Need Help?
    </a>

    <style>
        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--color-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</body>


</html>